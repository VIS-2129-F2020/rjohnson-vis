---
title: "Assignment 2"
author: "Ryan Johnson"
date: "9/17/2020"
output: 
  html_document:
    toc: yes
    toc_depth: 3  
    toc_float: yes
    theme: cosmo
---
```{r load libraries, include=FALSE}
library(ggplot2)
library(sf)
library(rnaturalearth)
library(tidyverse)
library(ggspatial)
library(cartogram)
library(ggthemes)
library(rnaturalearthhires)
```

# Assignment info DELETE ME
Select a large area from Table C-1 below, and create a map of the area, with its associated subareas,
using each of three different map projections. Indicate the map projection you’ve used for each. Identify a
variable and use at least three different methods to show how it varies among the subareas.
# DELETE THE ABOVE


### Description EDIT ME

*blah blah blah*


```{r defining coordinate systems, message=FALSE}
USA_AEA <- "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=23 +lon_0=-96 +x_0=0 +y_0=0 +ellps=clrk66 +units=m +no_defs"
TxStateCent <- "ESRI:102739"
GallPeters <- "+proj=cea +lon_0=0 +lat_ts=45 +x_0=0 +y_0=0 +ellps=WGS84 +units=m +no_defs"
```


### Map of continental United States - Gall-Peters projection



```{r US attempt, message=FALSE}
USA_states <- ne_states(country = "United States of America",
                       returnclass = "sf") %>% 
  filter(name != "Alaska",
         name != "Hawaii")

USA_map <- ggplot(USA_states) +
  geom_sf() +
  coord_sf(crs = GallPeters) +
  theme_economist_white()

USA_map +
  annotation_scale()
```

### Map of continental United States - Albers Equal Area projection



```{r equal area usa, message=FALSE}
ggplot(USA_states) +
  geom_sf() +
  coord_sf(crs = USA_AEA) +
  theme_economist_white() +
  annotation_scale()
```

### Map of continental United States - Texas State Plane (Lambert conformal conic) projection



```{r texas state plane zone 3, message=FALSE}
ggplot(USA_states) +
  geom_sf() +
  coord_sf(crs = TxStateCent) +
  theme_economist_white() +
  annotation_scale()
```

### Transforming coordinate system - AEA



```{r, message=FALSE}
USA_transformed <- USA_states %>%
  st_transform(crs = USA_AEA)

ggplot(USA_transformed) +
  geom_sf() +
  theme_economist_white() +
  annotation_scale()
```

### Chloropleth map

description

```{r data manipulation, message=FALSE}
state_data <- read.csv("USA_pop_density.csv")

state_data
```

```{r join attempt 1, message=FALSE}
density_states <-USA_transformed %>%
  left_join(state_data, by = c("name" = "ï..State")) %>%
  select(name, Density)
```

```{r map density 1, message=FALSE}
ggplot(density_states, aes(fill = Density)) +
  geom_sf(color = NA) +
  scale_fill_viridis_d(
    name = "Population density per square mile",
    breaks = seq(0, 1200, by = 300),
    labels = formatC(seq(0, 1200, by = 300), 
                     big.mark = ",", format = "f", digits = 0)) +
  theme_economist_white() +
  theme(legend.background = element_blank())
```

